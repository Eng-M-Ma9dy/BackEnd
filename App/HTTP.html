<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Eng: Mohamed Magdy Mettwally">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="The Reference For Back-End Developers, It's Contain All Code The Developers use in coding, Node.js, SQL DB (Sequelize), MongoDB (Mongoose), APIs,GraphQL, Socket.io, Ajax">
        <meta name="keywords" content="Node.js Database SQL Sequelize MongoDB Mongoose APIs GraphQL Socket.io Ajax Coding Developers Back-End">
    
        <title>HTTP</title>
        <meta property="og:image" content="./../src/Images/Logo-MM-Cover.jpg">
        <link rel="website icon" type="PNG" href="./../src/Images/Logo-MM-Title.png">

        <!-- Offline Bootstrap CSS : -->
        <link href="../CSS/bootstrap.min.css" rel="stylesheet"/>

        <!-- FontAwesome CSS : -->
        <link href="../CSS/all.min.css" rel="stylesheet"/>
                
        <!-- My Shared CSS : -->
        <link href="../CSS/shared.css" rel="stylesheet"/>

    </head>

    <body>

        <!---------------------------------------------------------------------------------------------------------------------------->
        <!----------------------------------------------------------------------------------------------------------------------------> 
        <!-- Loader -->
        <!------------>

        <div id="myLoading">

            <!---------------------------------------------------------------->
    
            <div id="loadingDiv" class="d-flex justify-content-center align-items-center">
                <div id="loaderDiv" class="loader--style6" title="5">
                    <svg id="loaderSize" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="30px"
                        viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                        <rect x="0" y="13" width="4" height="5" fill="blue">
                            <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0s" dur="0.6s"
                                repeatCount="indefinite" />
                            <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0s" dur="0.6s"
                                repeatCount="indefinite" />
                        </rect>
                        <rect x="10" y="13" width="4" height="5" fill="white">
                            <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.15s" dur="0.6s"
                                repeatCount="indefinite" />
                            <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.15s" dur="0.6s"
                                repeatCount="indefinite" />
                        </rect>
                        <rect x="20" y="13" width="4" height="5" fill="blue">
                            <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.3s" dur="0.6s"
                                repeatCount="indefinite" />
                            <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.3s" dur="0.6s"
                                repeatCount="indefinite" />
                        </rect>
                    </svg>
                </div>
            </div>
    
            <!---------------------------------------------------------------->
    
        </div>

        <!---------------------------------------------------------------------------------------------------------------------------->
        <!----------------------------------------------------------------------------------------------------------------------------> 
        <!-- Header -->
        <!------------>

        <header id="headerSection" class="w-100 vh-100 mb-1">

            <div id="headerDiv" class="overflow-hidden position-relative">

                <svg id="svg_white" viewBox="0 0 1440 320">
                    <path fill="white" fill-opacity="1" d="M0,0L24,16C48,32,96,64,144,80C192,96,240,96,288,80C336,64,384,32,432,48C480,64,528,128,576,144C624,160,672,128,720,133.3C768,139,816,181,864,197.3C912,213,960,203,1008,208C1056,213,1104,235,1152,245.3C1200,256,1248,256,1296,250.7C1344,245,1392,235,1416,229.3L1440,224L1440,0L1416,0C1392,0,1344,0,1296,0C1248,0,1200,0,1152,0C1104,0,1056,0,1008,0C960,0,912,0,864,0C816,0,768,0,720,0C672,0,624,0,576,0C528,0,480,0,432,0C384,0,336,0,288,0C240,0,192,0,144,0C96,0,48,0,24,0L0,0Z"></path>
                </svg>

                <svg id="svg_blueviolet" viewBox="0 0 1440 320">
                    <path fill="blueviolet" fill-opacity="1" d="M0,0L24,16C48,32,96,64,144,80C192,96,240,96,288,80C336,64,384,32,432,48C480,64,528,128,576,144C624,160,672,128,720,133.3C768,139,816,181,864,197.3C912,213,960,203,1008,208C1056,213,1104,235,1152,245.3C1200,256,1248,256,1296,250.7C1344,245,1392,235,1416,229.3L1440,224L1440,0L1416,0C1392,0,1344,0,1296,0C1248,0,1200,0,1152,0C1104,0,1056,0,1008,0C960,0,912,0,864,0C816,0,768,0,720,0C672,0,624,0,576,0C528,0,480,0,432,0C384,0,336,0,288,0C240,0,192,0,144,0C96,0,48,0,24,0L0,0Z"></path>
                </svg>

                <div id="headerDiv_Content" class="d-flex flex-column justify-content-center align-items-start">

    
                    <div class="ms-3 text-white">

                        <h4>Back End..</h4>
                        <h1 id="theMainTitle" class="fw-bold">HTTP Module</h1>
                        <h5 class="text-end">Volatile Data</h5>

                    </div>
                                
                    <div>
                        <div class="d-flex justify-content-start ms-3 mb-3">
        
                            <div class="rotating-text">
                    
                                <p class="kf text-light">I'm a </p>
                    
                                <p>
                                    <span class="word w-1">     M.Magdy    </span>
                                    <span class="word w-2">     Full-Stack </span>
                                    <span class="word w-3">     Developer  </span>
                                </p>
                            
                            </div>
        
                        </div>
        
                        <div class="text-light ms-3 d-flex justify-content-start">
                
                            <button onclick="openLink('www.linkedin.com/in/eng-m-ma9dy/')" class="SM-BTN-icon LinkedIn rounded-circle me-2 fs-3 bg-light d-flex align-items-center justify-content-center">
                                <i class="fa-brands fa-linkedin"></i>
                            </button>
        
                            <button onclick="openLink('github.com/Eng-M-Ma9dy')" class="SM-BTN-icon GitHub rounded-circle mx-2 fs-3 bg-light d-flex align-items-center justify-content-center">
                                <i class="fa-brands fa-github"></i>
                            </button>
        
                            <button onclick="openLink('www.facebook.com/eng.m.ma9dy/')" class="SM-BTN-icon Facebook rounded-circle mx-2 fs-3 bg-light d-flex align-items-center justify-content-center">
                                <i class="fa-brands fa-facebook"></i>
                            </button>
                
                            <button onclick="openLink('www.instagram.com/eng.m.ma9dy/')" class="SM-BTN-icon Instagram rounded-circle mx-2 fs-3 bg-light d-flex align-items-center justify-content-center">
                                <i class="fa-brands fa-instagram"></i>
                            </button>
                
                        </div>
                        
                    </div>
                
                </div>

            </div>

        </header>

        <!---------------------------------------------------------------------------------------------------------------------------->
        <!----------------------------------------------------------------------------------------------------------------------------> 
        <!-- Main -->
        <!---------->

        <main id="mainSection" class="text-white mb-1">
        
            <div id="mainDiv" class="py-5">

<!------------------------------------------------------------------------------------------------------------------------------------>
<!------------------------------------------------------------------------------------------------------------------------------------>
<!------------------------------------------------------------------------------------------------------------------------------------>
    
    <div class="mt-5">
        <button id="homeBTN" onclick="openLink('eng-m-ma9dy.github.io/BackEnd/')" class="border-0 mx-auto text-white bg-primary fs-1 d-flex justify-content-center align-items-center">
            <i class="px-2 border-0 fa-solid fa-house-chimney"></i> <span id="homeText" class="d-none">Home</span>
        </button>
    </div>




    <div class="container mb-5">
        <div class="row">
            <div class="col-12">

                <h2 class="my-5  text-center">( <span class="text-primary">HTTP <span class="text-white">-</span> Volatile Data</span> ) </h2>

                <!------------------------------------------------------------------------------------->

                <section>
                    <div class="border">
                        <h5 class="m-0">  
                            <pre class="m-0">
<code>

    // index.js
    // ---------------------------------------------
    // Create API HTTP Module      (Volatile Data)
    //----------------------------------------------

    let usersList = [
      { id: 1, name: "Ahmed", age: 25 },
      { id: 2, name: "Sara" , age: 26 },
      { id: 3, name: "Hagar", age: 27 },
      { id: 4, name: "Aya"  , age: 28 },
      { id: 5, name: "Omr"  , age: 29 },
    ];



    // Create Server :
    //---------------------------------

    const http = require("http");

    const server = http.createServer((req, res) => {

      let { url, method } = req;


      // Create Routes and Logic :
      //---------------------------

        // Get All Users
        //--------------------

        if (url == "/allUsers" && method == "GET") {
            res.write(JSON.stringify(usersList));
        
            res.end();
        } 


        // Reverse Users
        //--------------------

        else if (url == "/reverseUsers" && method == "GET") {
        
            let reverseUsers = [...usersList].reverse();
        
            res.write(JSON.stringify(reverseUsers));
        
            res.end();
        }


      // Sort Users
      //--------------------
    
      else if (url == "/sortUsers" && method == "GET") {
          let sortAllUsers = [...usersList].sort((a, b) =>
            a.name.localeCompare(b.name)
          );
    
          res.write(JSON.stringify(sortAllUsers));
    
          res.end();
      }


        // Add User
        //--------------------

        else if (url == "/addUser" && method == "POST") {
            let bufferData;
        
            req.on("data", (chunk) => {
              bufferData = JSON.parse(chunk);
            
              usersList.push(bufferData);
            
              res.write("Welcome From Add User : " + JSON.stringify(usersList));
            
              res.end();
            });
        
            req.on("end", () => {});
        }


        // Update User
        //--------------------

        else if (url == "/updateUser" && method == "PUT") {
            let bufferData;
        
            req.on("data", (chunk) => {
              bufferData = JSON.parse(chunk);
            
              console.log(bufferData);
            });
        
            req.on("end", () => {
              let updated = false;
            
              usersList = usersList.map((user) => {
                if (user.id == bufferData.id) {
                  user.name = bufferData.name;
                
                  user.age = bufferData.age;
                
                  updated = true;
                }
            
                return user;
              });
          
              updated
                ? res.write(`User ID (${bufferData.id}) Found and Update success` + JSON.stringify(usersList))
                : res.write(`User ID ${bufferData.id} Not Found`);
          
              res.end();
            });
        } 


        // Delete Users
        //--------------------

        else if (url == "/deleteUser" && method == "DELETE") {
            let bufferData;
        
            req.on("data", (chunk) => {
              bufferData = JSON.parse(chunk);
            
              console.log(bufferData);
            });
        
            req.on("end", () => {
              let founded = false;
            
              usersList = usersList.filter((user) => {
                if (user.id == bufferData.id) {
                  founded = true;
                } else {
                  return user;
                }
              });
          
              founded
                ? res.write(`User ID (${bufferData.id}) Found and Delete success` + JSON.stringify(usersList))
                : res.write(`User ID ${bufferData.id} Not Found`);
          
              res.end();
            });
          }


        // Search By ID
        //--------------------

        else if (url == "/searchAboutUserByID" && method == "POST") {
            let bufferData;
        
            req.on("data", (chunk) => {
              bufferData = JSON.parse(chunk);
            });
        
            req.on("end", () => {
              let foundTheUser = false;
              let theUser;
              for (let i = 0; i &#60; usersList.length; i++) {
                if (usersList[i].id == bufferData.id) {
                  foundTheUser = true;
                
                  theUser = usersList[i];
                }
              }
          
              foundTheUser
                ? res.write(`User ID Found (${JSON.stringify(theUser)})`)
                : res.write(`User ID ${bufferData.id} Not Found`);
          
              res.end();
            });
          } else {
            res.write("404 : Not Found");
        
            res.end();
        }

    });

    server.listen(3000);

</code>

                            </pre>
                        </h5>
                    </div>

                </section>

                <!------------------------------------------------------------------------------------->

            </div>

        </div>
    </div>

<!------------------------------------------------------------------------------------------------------------------------------------>
<!------------------------------------------------------------------------------------------------------------------------------------>
<!------------------------------------------------------------------------------------------------------------------------------------>

            </div>

        </main>

        <!---------------------------------------------------------------------------------------------------------------------------->
        <!----------------------------------------------------------------------------------------------------------------------------> 
        <!-- Footer -->
        <!------------>

        <footer id="megaContactUs" class="py-5 bg-black text-white"></footer>

        <!---------------------------------------------------------------------------------------------------------------------------->
        <!----------------------------------------------------------------------------------------------------------------------------> 
        <!-- JS Links -->
        <!-------------->
        
        <!-- Offline Bootstrap js : -->
        <script src="../JS/bootstrap.bundle.min.js"></script>

        <!-- jQuery js : -->
        <script src="../JS/jquery-3.6.3.min.js"></script>

        <!-- Footer : -->
        <script src="https://eng-m-ma9dy.github.io/Static-Files/JS/Mega-Footer.js"></script>

        <!-- My Shared js : -->
        <script src="../JS/shared.js"></script>
    
    </body>
</html>
